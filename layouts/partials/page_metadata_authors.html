{{/* Display author list. */}}

{{- $taxonomy := "authors" }}
{{ if .Param $taxonomy }}
  {{- range $index, $value := (.GetTerms $taxonomy) }}
    {{- if gt $index 0 }},{{ end }} <!-- Comma without space before it -->

    <span {{ if .Page.Params.highlight_name | default false }}class="author-highlighted"{{end}}>
      {{- $author_website := .Page.Params.website | default "" -}}

      {{- if $author_website }}
        <a href="{{ $author_website }}" target="_blank">{{ .LinkTitle }}</a>
      {{- else if .RelPermalink -}}
        <a href="{{.RelPermalink}}">{{.LinkTitle}}</a>
      {{- else -}}
        {{ .LinkTitle }}
      {{- end }}
    </span>
    
    {{- if isset $.Params "author_notes" -}}
      {{- with (index $.Params.author_notes $index) -}}
        <i class="author-notes fas fa-info-circle" data-toggle="tooltip" title="{{.}}"></i>
      {{- end -}}
    {{- end -}}

    {{- if gt (add $index 1) (len (.GetTerms $taxonomy)) -}} <!-- Add a space after the comma -->
      {{ " " }}
    {{- end -}}

  {{- end -}}
{{- end -}}
